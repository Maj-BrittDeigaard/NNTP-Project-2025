<Window x:Class="Nntp.Client.Wpf.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="NNTP Newsreader" Height="700" Width="1100">
    <DockPanel>
        <!-- Top menu -->
        <Menu DockPanel.Dock="Top">
            <MenuItem Header="_File">
                <MenuItem Header="E_xit" Click="Exit_Click"/>
            </MenuItem>
            <MenuItem Header="_Setup">
                <MenuItem Header="Server settings..." Click="OpenSettings_Click"/>
            </MenuItem>
        </Menu>

        <!-- Status bar at the bottom -->
        <StatusBar DockPanel.Dock="Bottom">
            <StatusBarItem>
                <TextBlock x:Name="StatusText" Text="Ready"/>
            </StatusBarItem>
        </StatusBar>

        <!-- Main layout: Groups | Headlines | Article -->
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="280"/>
                <!-- Groups -->
                <ColumnDefinition Width="*"/>
                <!-- Headlines -->
                <ColumnDefinition Width="2*"/>
                <!-- Article -->
            </Grid.ColumnDefinitions>

            <!-- LEFT: Groups -->
            <Grid Grid.Column="0" Margin="8">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <TextBlock Text="Groups" FontWeight="Bold" Margin="0,0,0,8"/>

                <ListBox x:Name="GroupsList"
           Grid.Row="1"
           ItemsSource="{Binding GroupsVM.Groups}"
           DisplayMemberPath="Name"
           SelectionChanged="GroupsList_SelectionChanged" />

                <TextBlock Grid.Row="2"
             Margin="0,8,0,0"
             Foreground="DimGray"
             Text="{Binding GroupsVM.StatusMessage}" />
            </Grid>

            <!-- MIDDLE: Headlines -->
            <Grid Grid.Column="1" Margin="8">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <TextBlock Text="Headlines" FontWeight="Bold" Margin="0,0,0,8"/>

                <!-- Table of article headlines -->
                <ListView x:Name="HeadlinesList" Grid.Row="1" 
                          ItemsSource="{Binding HeadlinesVM.Articles}"
                          SelectionChanged="HeadlinesList_SelectionChanged">
                    <ListView.View>
                        <GridView>
                            <GridViewColumn Header="#"      DisplayMemberBinding="{Binding Number}"  Width="60"/>
                            <GridViewColumn Header="Subject" DisplayMemberBinding="{Binding Subject}" Width="260"/>
                            <GridViewColumn Header="From"    DisplayMemberBinding="{Binding From}"    Width="220"/>
                            <GridViewColumn Header="Date"    DisplayMemberBinding="{Binding Date}"    Width="160"/>
                        </GridView>
                    </ListView.View>
                </ListView>

                <TextBlock Grid.Row="2"
             Margin="0,8,0,0"
             Foreground="DimGray"
             Text="{Binding HeadlinesVM.StatusMessage}" />
            </Grid>
            

            <!-- RIGHT: Article view -->
            <Border Grid.Column="2"
                    Margin="8"
                    Background="#F6F6F6"
                    BorderBrush="#DDD"
                    BorderThickness="1">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <TextBox Text="{Binding HeadlinesVM.ArticleText, Mode=OneWay}"
                             IsReadOnly="True"
                             TextWrapping="Wrap"
                             Padding="8"
                             Background="White"/>
                </ScrollViewer>
            </Border>
        </Grid>
    </DockPanel>
</Window>
